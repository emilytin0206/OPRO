# ----------------------------------------------------
# 專案設定
# ----------------------------------------------------
project:
  task_name: 'all_specified'
  log_dir: './logs'

# ----------------------------------------------------
# Scorer Model
# ----------------------------------------------------
scorer_model:
  client_type: 'Ollama'
  model_name: 'qwen2.5:7b'
  api_url: 'http://localhost:11434/api/chat'
  temperature: 0.0
  max_output_tokens: 1024

# ----------------------------------------------------
# Optimizer Model
# ----------------------------------------------------
optimizer_model:
  client_type: 'Ollama'
  model_name: 'qwen2.5:32b'
  api_url: 'http://localhost:11434/api/chat'
  temperature: 0.7
  max_output_tokens: 2048

# ----------------------------------------------------
# OPRO 優化參數
# ----------------------------------------------------
optimization:
  dataset_name: 'mmlu'
  train_ratio: 0.8
  eval_interval: 3  ## 每幾步執行一次驗證集檢查
  num_iterations: 3           # 測試時建議先設小一點 (例如 20)
  num_prompts_to_generate: 8
  max_num_instructions_in_prompt: 20
  
  # [修正] 路徑改為 prompt (單數) 以匹配您的資料夾結構
  meta_prompt_path: 'prompt/meta_prompt.txt'
  
  # [新增] 支援 Scorer 的格式調整
  instruction_pos: 'Q_begin'
  is_instruction_tuned: true
  
  # [新增] 支援 Optimizer 的錯誤驅動策略
  num_few_shot_questions: 3
  few_shot_selection_criteria: 'random'
  old_instruction_score_threshold: 0.1

  initial_instructions:
    - "Let's think step by step."
    - "Solve this problem carefully."
    - "Provide a detailed answer."
    - "Answer the question directly."